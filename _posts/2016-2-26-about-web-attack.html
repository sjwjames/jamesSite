---
layout: post
title:  "About Web Security"
title_chinese: "关于几个常见的网络攻击"
date:   2016-02-26 22:30:00 +0800
categories: WEB Security
---
<section>
    <h1> {{page.title_chinese}}</h1>
    <p>
        主要回顾一下刚入职时学习的关于网络安全的几个知识点，XSS/CSRF/SQL Injection/远程加载
    </p>
    <p>
        <h2>XSS</h2>
        XSS是cross-site scripting attack的简称，由于css已经成为层叠样式表的习惯简称，所以使用XSS作为跨站脚本攻击的简称。它是常见的代码注入攻击的一种，在客户端的代码注入攻击脚本，是的攻击者
        能够在受害者浏览器上执行恶意的JS脚本(用户输入被当成代码执行)。
    </p>
    <p>
        其主要的产生原因是网站在其页面中直接包含了用户输入的数据，将其作为输出，输出字符串时没有强制作为字符串形式输出。主要实现原理是攻击者将脚本作为字符串插入到用户访问的网站页面中，即在访问
        某个站点的时候将恶意代码注入到服务器数据库中(比如留言、评论的时候把脚本代码作为评论内容提交到服务器)，其他用户在访问这个网站的时候，需要从数据库读取数据(比如评论等)，而前端和后端都没有对
        用户的输入进行处理，恶意代码就直接在这个其他用户打开这个网站的时候运行了。
    </p>

    <p>
        由于它可以做普通js可以做的任何事情，所以主要危害用户的隐私，包括窃取用户的cookie、读取用户的键盘输入从而获取用户的密码、修改html文档以及样式伪造DOM等。主要的避免方法则是要防止用户的输入
        被当做代码执行，包括在输出用户输入的地方对内容进行检查，将字符转义后输出，不在页面插入不可信数据，插入HTML前对其中特殊符号转移，JS中插入URL前进行转移，HTTPOnly使得Cookie不能被JS读取等
    </p>
    <p>
        <h2>CSRF</h2>
    </p>
        <p>
            CSRF是跨站请求伪造的简称，cross site request forge.主要的表现为攻击者盗用你的身份，以你的名义发送恶意请求。主要危害在于攻击者以你的名义发送邮件，发消息，盗用账号，购买商品，虚拟
            货币转账等。
        </p>
        <p>
            <ol>
                主要实现原理(此处没图):
                <li>用户A访问并登录信任网站B</li>
                <li>验证通过，在用户A处产生B的Cookie</li>
                <li>用户在未登出B网站的情况下，访问了网站C</li>
                <li>C要求访问第三方网站B，发出请求</li>
                <li>浏览器带着第二步产生的Cookie访问了B</li>
                <li>由于不清楚是用户A发出的还是其他网站的，会自动带上A的Cookie</li>
            </ol>
        </p>
        <p>
            CSRF源于WEB的隐式身份验证机制，其可以保证请求来自某个用户的浏览器，但没法保证该请求经过用户的批准。主要的防御措施是要在客户端页面表单中增加伪随机数/使用验证码/one-time tokens。不同的
            表单包含一个不同的随机数/发送POST请求
        </p>
    <p>
        <h2>SQL Injection</h2>
    </p>
    <p>
        也就是SQL注入，是比较常见的一种代码注入的攻击方式，通过SQL命令插入到WEB表单提交或输入域名或者页面请求的查询字符串中。形成原因是程序没有过滤用户输入的数据，主要危害是可以非法读取数据库数据
        ，盗用用户的信息。常见的防御措施有参数化用户输入，输入验证，错误消息处理，加密处理，存储过程存储等。
    </p>
    <p>
        <h2>远程加载</h2>
    </p>
    <p>
        远程加载这个概念可能是一个自创的术语(当然不是我自己)，主要描述的情景是用户可以通过自己的代码来操作服务器，有点类似于SQL注入，但是并不是通过用户输入的代码来实现，而是通过攻击者上传的文件来
        执行恶意操作，如果站点对用户上传的文件没有进行格式限制并且对服务器端文件夹的读写执行权限进行规定的话，就有可能掺杂攻击者上传的可执行的文件，对服务器端进行破坏。
    </p>
</section>
